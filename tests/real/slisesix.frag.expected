/* File generated with Shader Minifier 1.1.6
 * http://www.ctrl-alt-test.fr
 */
#ifndef SLISESIX_FRAG_EXPECTED_
# define SLISESIX_FRAG_EXPECTED_
# define VAR_RESOLUTION "v"
# define VAR_TEX0 "i"
# define VAR_TIME "f"

const char *slisesix_frag =
 "#extension GL_EXT_gpu_shader4:enable\n"
 "uniform vec2 v;"
 "uniform float f;"
 "uniform sampler2D i;"
 "int t(in int v)"
 "{"
   "return v=v<<13^v,v*(v*v*15731+789221)+1376312589&2147483647;"
 "}"
 "float n(in int v)"
 "{"
   "return float(t(v));"
 "}"
 "float p(in vec3 v)"
 "{"
   "ivec3 f=ivec3(floor(v));"
   "vec3 i=fract(v);"
   "i=i*i*(3.-2.*i);"
   "int x=f.x+f.y*57+f.z*113;"
   "float s=mix(mix(mix(n(x+0),n(x+1),i.x),mix(n(x+57),n(x+58),i.x),i.y),mix(mix(n(x+113),n(x+114),i.x),mix(n(x+170),n(x+171),i.x),i.y),i.z);"
   "return 1.-s*9.31323e-10;"
 "}"
 "float s(in vec3 v)"
 "{"
   "return.5*p(v)+.25*p(v*2.)+.125*p(v*4.)+.0625*p(v*8.);"
 "}"
 "float n(in float v,in float f)"
 "{"
   "f=1.-f;"
   "if(v<.1||v>.9)"
     "return f;"
   "v=v-.5;"
   "return-(sqrt(v*v+f*f)-.4);"
 "}"
 "float p(in vec3 v,in vec3 y)"
 "{"
   "vec3 i=max(abs(v)-y,0.);"
   "return dot(i,i);"
 "}"
 "float n(in float v,in float i,in float x,in float y,in float f)"
 "{"
   "vec3 s=vec3(v,i,x);"
   "float m=p(s,vec3(.14,1.,.14));"
   "if(m>y*y)"
     "return y+1.;"
   "float z=i-.4,n=i-.35,o=i-1.,t=p(s,vec3(.1,1.,.1)),r=p(s,vec3(.12,.4,.12)),c=p(s,vec3(.05,.35,.14)),D=p(s,vec3(.14,.35,.05)),e=p(vec3(v,o,x),vec3(.14,.02,.14)),a=p(vec3((v-z)*.7071,(z+v)*.7071,x),vec3(.07071,.07071,.12)),l=p(vec3(v,(z+x)*.7071,(x-z)*.7071),vec3(.12,.07071,.07071)),d=p(vec3((v-n)*.7071,(n+v)*.7071,x),vec3(.07071,.07071,.14)),u=p(vec3(v,(n+x)*.7071,(x-n)*.7071),vec3(.14,.07071,.07071)),k=min(min(min(t,r),min(c,D)),min(min(a,l),min(d,u)));"
   "k=min(k,e);"
   "return k;"
 "}"
 "float s(vec3 v,in float f)"
 "{"
   "v-=vec3(.64,.5,1.5);"
   "float i=dot(v,v),y=smoothstep(0.,.5,i),s=.75+.25*y,m=.8+.2*y;"
   "v.x*=s;"
   "v.y*=m;"
   "v.z*=s;"
   "i=dot(v,v);"
   "float x=sqrt(i),z=1.-smoothstep(0.,.75,x);"
   "z*=.4;"
   "float n=sin(z),o=cos(z);"
   "v.xy=mat2(o,n,-n,o)*v.xy;"
   "float r=100000.,e=.05+sqrt(dot(v.xz,v.xz)),k=.46625-6.*e*exp2(-10.*e);"
   "for(int t=1;t<7;t++)"
     "{"
       "float c=.897586*float(t),D=c+.4*e*p(vec3(4.*e,2.5,c))+.29,a=cos(D),l=sin(D);"
       "vec3 d=vec3(v.x*a-v.z*l,v.y+k,v.x*l+v.z*a);"
       "float u=dot(d.yz,d.yz);"
       "if(d.x>0.&&d.x<1.5&&u<r)"
         "r=u;"
     "}"
   "float t=sqrt(r)-.045,l=x-.3,a=clamp(x*3.,0.,1.);"
   "return t*a+l*(1.-a);"
 "}"
 "float n(in vec3 v,out int i,out int f)"
 "{"
   "f=0;"
   "float x,y;"
   "x=v.y;"
   "vec2 z=vec2(128.)+6.*vec2(v.x+v.z,v.x-v.z);"
   "ivec2 d=ivec2(floor(z));"
   "f=t(d.x+53*d.y);"
   "vec2 m=fract(z);"
   "float a=smoothstep(.975,1.,max(m.x,m.y));"
   "if((f>>10&7)>6)"
     "a=1.;"
   "x+=.005*a;"
   "y=x;"
   "i=0;"
   "if(a>1e-07)"
     "i=2;"
   "float e=fract(v.x+128.),r=fract(v.z+128.);"
   "if(v.y>1.)"
     "{"
       "x=max(n(e,v.y),n(r,v.y));"
       "if(x<y)"
         "y=x,i=5;"
     "}"
   "e=fract(v.x+128.+.5);"
   "r=fract(v.z+128.+.5);"
   "x=n(e-.5,v.y,r-.5,y,13.1*floor(v.x)+17.7*floor(v.z));"
   "if(x<y*y)"
     "y=sqrt(x),i=1;"
   "x=s(v,y);"
   "if(x<y)"
     "y=x,i=4;"
   "return y;"
 "}"
 "vec3 x(in vec3 v)"
 "{"
   "float y=.0002;"
   "vec3 f;"
   "int i,z;"
   "f.x=n(vec3(v.x+y,v.y,v.z),i,z)-n(vec3(v.x-y,v.y,v.z),i,z);"
   "f.y=n(vec3(v.x,v.y+y,v.z),i,z)-n(vec3(v.x,v.y-y,v.z),i,z);"
   "f.z=n(vec3(v.x,v.y,v.z+y),i,z)-n(vec3(v.x,v.y,v.z-y),i,z);"
   "return normalize(f);"
 "}"
 "void main()"
 "{"
   "vec2 i=-1.+2.*gl_FragCoord.xy/v.xy;"
   "float z=f*.15;"
   "vec2 y=vec2(cos(z),sin(z));"
   "float a=i.x*i.x*.32+i.y*i.y,m=(7.-sqrt(37.5-11.5*a))/(a+1.);"
   "i*=m;"
   "float t=v.x/v.y;"
   "vec3 e=normalize(vec3(t*i.x*y.x-y.y,i.y,y.x+t*i.x*y.y)),c=vec3(.5+1.4*y.y,.5,1.5-1.4*y.x);"
   "float r;"
   "int d=666,D;"
   "vec3 k,l=vec3(0.);"
   "\n#if 1\n"
   "for(r=.5;r<12.;)"
     "{"
       "k=c+r*e;"
       "float u=n(k,d,D);"
       "if(u<.01)"
         "break;"
       "r+=u;"
     "}"
   "\n#else\n"
   "r=.5;"
   "for(int u=0;u<50;u++)"
     "{"
       "k=c+r*e;"
       "float o=n(k,d,sumMatID);"
       "if(o<.001)"
         "break;"
       "r+=o;"
     "}"
   "\n#endif\n"
   "if(d!=666)"
     "{"
       "vec3 u=x(k);"
       "float o=.0001,b=.0075;"
       "if(d!=5)"
         "b*=.75;"
       "if(d==4)"
         "b*=.5;"
       "b/=o;"
       "float p=s(32.*k);"
       "u.x+=b*(s(32.*vec3(k.x+o,k.y,k.z))-p);"
       "u.y+=b*(s(32.*vec3(k.x,k.y+o,k.z))-p);"
       "u.z+=b*(s(32.*vec3(k.x,k.y,k.z+o))-p);"
       "u=normalize(u);"
       "float g=0.;"
       "vec3 G=vec3(.5-k.x,.8-k.y,1.5-k.z);"
       "float h=dot(G,G),q=inversesqrt(h);"
       "G=G*q;"
       "float C=dot(u,G);"
       "if(d==4)"
         "C=.5+.5*C;"
       "else"
         " C=.1+.9*C;"
       "C=clamp(C,0.,1.);"
       "C*=2.5*exp2(-1.75*h);"
       "float F=(u[0]+u[1])*.075;"
       "if(d==0)"
         "{"
           "float w=13.1*float(D&255),E=s(16.*vec3(k.x+w,k.y,k.z));"
           "l=vec3(.7)+E*vec3(.2,.22,.25);"
           "float I=float(D>>9&15)/14.;"
           "I=.51+.34*I;"
           "l*=I;"
           "float L=1.;"
           "if((D&256)!=0)"
             "L=-1.;"
           "float M=sin(64.*k.z*L+64.*k.x+4.*E);"
           "M=smoothstep(.25,.5,M)-smoothstep(.5,.75,M);"
           "l+=M*vec3(.15);"
         "}"
       "else"
         " if(d==2)"
           "l=vec3(0.);"
         "else"
           " if(d==1)"
             "{"
               "float M=s(16.*k),E=sin(64.*k.z+64.*k.x+4.*M);"
               "E=smoothstep(.3,.5,E)-smoothstep(.5,.7,E);"
               "l=vec3(.59)+M*vec3(.17,.18,.21)+E*vec3(.15)+vec3(F);"
             "}"
           "else"
             " if(d==4)"
               "{"
                 "float M=s(16.*k);"
                 "l=vec3(.82,.73,.65)+M*vec3(.1);"
                 "float I=.9+.1*s(32.*k);"
                 "l*=I;"
                 "float E=max(-dot(u,e),0.);"
                 "l-=vec3(E*E*.45);"
                 "g=clamp((u.y-u.z)*.707,0.,1.);"
                 "g=.2*pow(g,32.);"
               "}"
             "else"
               "{"
                 "float M=s(16.*k);"
                 "l=vec3(.64,.61,.59)+M*vec3(.21,.19,.19)+F;"
               "}"
       "float M,E=0.,I=10.;"
       "for(int L=0;L<5;L++)"
         "{"
           "float w=.01+.015*float(L*L);"
           "vec3 T=u*w+k;"
           "int X,j;"
           "float A=n(T,X,j);"
           "M=-(A-w);"
           "E+=M*I;"
           "I*=.5;"
         "}"
       "M=1.-clamp(E,0.,1.);"
       "float L=0.;"
       "for(int w=0;w<6;w++)"
         "{"
           "float T=float(w)/6.,j=.01+T;"
           "vec3 X=G*j+k;"
           "int A,B;"
           "float H=n(X,A,B);"
           "L+=(1.-T)*H*2.*(10./6.);"
         "}"
       "C*=clamp((L-.4)*1.5,0.,1.);"
       "l=vec3(g)+l*(M*vec3(.25,.3,.35)+C*vec3(1.95,1.65,1.05));"
       "l=l*exp2(-.4*r);"
     "}"
   "l=(sqrt(l)*.7+.3*l)*vec3(.83,1.,.83)*1.2;"
   "l*=.25+.75*clamp(.6*abs(i.x-1.)*abs(i.x+1.),0.,1.);"
   "gl_FragColor=vec4(l,1.);"
 "}";

#endif // SLISESIX_FRAG_EXPECTED_
