/* File generated with Shader Minifier 1.1.6
 * http://www.ctrl-alt-test.fr
 */
#ifndef SKYBOX2_FRAG_EXPECTED_
# define SKYBOX2_FRAG_EXPECTED_
# define VAR_EYEPOS "z"
# define VAR_LIGHT1 "y"
# define VAR_LIGHT2 "r"
# define VAR_LIGHT3 "x"
# define VAR_LIGHT4 "t"
# define VAR_TEX "m"
# define VAR_WPOS "v"

const char *skybox2_frag =
 "varying vec3 v;"
 "uniform vec3 z;"
 "uniform sampler2D m;"
 "uniform vec3 y,r,x,t;"
 "vec3 f(vec3 v,vec2 z)"
 "{"
   "vec3 s=texture2D(m,z*.05).xyz,a=v*.1-vec3(-.5,-.5,-.5),f=v*.1-vec3(.5,.5,-.5),i=v*.1-vec3(-.5,.5,.5),n=v*.1-vec3(.5,-.5,.5),e=y*vec3(max(0.,1.25-dot(a,a))),c=r*vec3(max(0.,1.25-dot(f,f))),o=x*vec3(max(0.,1.25-dot(i,i))),l=t*vec3(max(0.,1.25-dot(n,n)));"
   "return s+e+c+o+l;"
 "}"
 "float f(float z)"
 "{"
   "float v=max(-1.15365,z);"
   "return 1.+v*(1.+v*(.5+v*.333333));"
 "}"
 "vec3 s(vec3 v,vec3 z)"
 "{"
   "vec3 s=vec3(0.),r=v,a=z,e=vec3(.5),m,t=vec3(0.),y,i;"
   "vec2 n;"
   "vec3 x,l;"
   "for(int u=0;u<3;++u)"
     "{"
       "y=50.*a;"
       "i=vec3(0.);"
       "n=vec2(0.);"
       "m=r+y;"
       "if(abs(m.x)>10.)"
         "{"
           "if(m.x>10.)"
             "y*=(9.99-r.x)/y.x,i=vec3(-1.,0.,0.),m=y+r,n=m.yz,t=f(m,n);"
           "else"
             " y*=(-9.99-r.x)/y.x,i=vec3(1.,0.,0.),m=y+r,n=m.yz*vec2(-1.,1.),t=f(m,n);"
         "}"
       "if(abs(m.y)>10.)"
         "{"
           "if(m.y>10.)"
             "y*=(9.99-r.y)/y.y,i=vec3(0.,-1.,0.),m=y+r,n=m.xz*vec2(-1.,1.),t=f(m,n);"
           "else"
             " y*=(-9.99-r.y)/y.y,i=vec3(0.,1.,0.),m=y+r,n=m.xz,t=f(m,n);"
         "}"
       "if(abs(m.z)>10.)"
         "{"
           "if(m.z>10.)"
             "y*=(9.99-r.z)/y.z,i=vec3(0.,0.,-1.),m=y+r,n=m.xy*vec2(-1.,1.),t=f(m,n);"
           "else"
             " y*=(-9.99-r.z)/y.z,i=vec3(0.,0.,1.),m=y+r,n=m.xy,t=f(m,n);"
         "}"
       "l=t*vec3(f(-length(y)*.04));"
       "s+=l*e;"
       "e*=l;"
       "x=reflect(a,i);"
       "r=m;"
       "a=x;"
     "}"
   "return s;"
 "}"
 "void main()"
 "{"
   "vec3 m=s(z,normalize(v-z));"
   "gl_FragColor=gl_Color*vec4(m,1.);"
 "}";

#endif // SKYBOX2_FRAG_EXPECTED_
